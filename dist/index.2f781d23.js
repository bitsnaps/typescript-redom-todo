function e(e,t){var i=function(e){for(var t=e.split(/([#.])/),i="",n="",o=[],r=0;r<t.length;r++){var l=t[r];"#"===l?n=t[++r]:"."===l?o.push(t[++r]):l.length&&(i=l)}return{tag:i||"div",id:n,className:o.join(" ")}}(e),n=i.tag,o=i.id,r=i.className,l=t?document.createElementNS(t,n):document.createElement(n);return o&&(l.id=o),r&&(t?l.setAttribute("class",r):l.className=r),l}function t(e,t){var n=_(e),o=_(t);return t===o&&o.__redom_view&&(t=o.__redom_view),o.parentNode&&(i(t,o,n),n.removeChild(o)),t}function i(e,t,i){var o=t.__redom_lifecycle;if(n(o))t.__redom_lifecycle={};else{var r=i;for(t.__redom_mounted&&s(t,"onunmount");r;){var l=r.__redom_lifecycle||{};for(var u in o)l[u]&&(l[u]-=o[u]);n(l)&&(r.__redom_lifecycle=null),r=r.parentNode}}}function n(e){if(null==e)return!0;for(var t in e)if(e[t])return!1;return!0}var o=["onmount","onremount","onunmount"],r="undefined"!=typeof window&&"ShadowRoot"in window;function l(e,t,n,l){var u=_(e),a=_(t);t===a&&a.__redom_view&&(t=a.__redom_view),t!==a&&(a.__redom_view=t);var f=a.__redom_mounted,d=a.parentNode;return f&&d!==u&&i(0,a,d),null!=n?l?u.replaceChild(a,_(n)):u.insertBefore(a,_(n)):u.appendChild(a),function(e,t,i,n){for(var l=t.__redom_lifecycle||(t.__redom_lifecycle={}),u=i===n,a=!1,f=0,d=o;f<d.length;f+=1){var h=d[f];u||e!==t&&h in e&&(l[h]=(l[h]||0)+1),l[h]&&(a=!0)}if(!a)return void(t.__redom_lifecycle={});var c=i,v=!1;(u||c&&c.__redom_mounted)&&(s(t,u?"onremount":"onmount"),v=!0);for(;c;){var _=c.parentNode,p=c.__redom_lifecycle||(c.__redom_lifecycle={});for(var w in l)p[w]=(p[w]||0)+l[w];if(v)break;(c.nodeType===Node.DOCUMENT_NODE||r&&c instanceof ShadowRoot||_&&_.__redom_mounted)&&(s(c,u?"onremount":"onmount"),v=!0),c=_}}(t,a,u,d),t}function s(e,t){"onmount"===t||"onremount"===t?e.__redom_mounted=!0:"onunmount"===t&&(e.__redom_mounted=!1);var i=e.__redom_lifecycle;if(i){var n=e.__redom_view,o=0;for(var r in n&&n[t]&&n[t](),i)r&&o++;if(o)for(var l=e.firstChild;l;){var u=l.nextSibling;s(l,t),l=u}}}function u(e,t,i){e.style[t]=null==i?"":i}function a(e,t,i,n){var o=_(e);if("object"==typeof t)for(var r in t)a(o,r,t[r],n);else{var l=o instanceof SVGElement,s="function"==typeof i;if("style"===t&&"object"==typeof i)!function(e,t,i){var n=_(e);if("object"==typeof t)for(var o in t)u(n,o,t[o]);else u(n,t,i)}(o,i);else if(l&&s)o[t]=i;else if("dataset"===t)d(o,i);else if(l||!(t in o)&&!s||"list"===t){if(l&&"xlink"===t)return void f(o,i);n&&"class"===t&&(i=o.className+" "+i),null==i?o.removeAttribute(t):o.setAttribute(t,i)}else o[t]=i}}function f(e,t,i){if("object"==typeof t)for(var n in t)f(e,n,t[n]);else null!=i?e.setAttributeNS("http://www.w3.org/1999/xlink",t,i):e.removeAttributeNS("http://www.w3.org/1999/xlink",t,i)}function d(e,t,i){if("object"==typeof t)for(var n in t)d(e,n,t[n]);else null!=i?e.dataset[t]=i:delete e.dataset[t]}function h(e){return document.createTextNode(null!=e?e:"")}function c(e,t,i){for(var n=0,o=t;n<o.length;n+=1){var r=o[n];if(0===r||r){var s=typeof r;"function"===s?r(e):"string"===s||"number"===s?e.appendChild(h(r)):p(_(r))?l(e,r):r.length?c(e,r,i):"object"===s&&a(e,r,null,i)}}}function v(e){return"string"==typeof e?m(e):_(e)}function _(e){return e.nodeType&&e||!e.el&&e||_(e.el)}function p(e){return e&&e.nodeType}var w={};function m(e){for(var t,i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];var o=typeof e;if("string"===o)t=g(e).cloneNode(!1);else if(p(e))t=e.cloneNode(!1);else{if("function"!==o)throw new Error("At least one argument required");var r=e;t=new(Function.prototype.bind.apply(r,[null].concat(i)))}return c(_(t),i,!0),t}var y=m;function g(t){return w[t]||(w[t]=e(t))}function b(e){for(var i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];for(var o=_(e),r=N(e,i,o.firstChild);r;){var l=r.nextSibling;t(e,r),r=l}}function N(e,t,i){for(var n=i,o=new Array(t.length),r=0;r<t.length;r++)o[r]=t[r]&&_(t[r]);for(var s=0;s<t.length;s++){var u=t[s];if(u){var a=o[s];if(a!==n)if(p(a)){var f=n&&n.nextSibling,d=null!=u.__redom_index&&f===o[s+1];l(e,u,n,d),d&&(n=f)}else null!=u.length&&(n=N(e,u,n));else n=n.nextSibling}}return n}m.extend=function(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];var n=g(e);return m.bind.apply(m,[this,n].concat(t))};var x=function(e,t,i){this.View=e,this.initData=i,this.oldLookup={},this.lookup={},this.oldViews=[],this.views=[],null!=t&&(this.key="function"==typeof t?t:function(e){return function(t){return t[e]}}(t))};x.prototype.update=function(e,t){for(var i=this,n=i.View,o=i.key,r=i.initData,l=null!=o,s=this.lookup,u={},a=new Array(e.length),f=this.views,d=0;d<e.length;d++){var h=e[d],c=void 0;if(l){var v=o(h);c=s[v]||new n(r,h,d,e),u[v]=c,c.__redom_id=v}else c=f[d]||new n(r,h,d,e);c.update&&c.update(h,d,e,t),_(c.el).__redom_view=c,a[d]=c}this.oldViews=f,this.views=a,this.oldLookup=s,this.lookup=u};var k=function(e,t,i,n){this.View=t,this.initData=n,this.views=[],this.pool=new x(t,i,n),this.el=v(e),this.keySet=null!=i};k.prototype.update=function(e,i){void 0===e&&(e=[]);var n=this.keySet,o=this.views;this.pool.update(e,i);var r=this.pool,l=r.views,s=r.lookup;if(n)for(var u=0;u<o.length;u++){var a=o[u];null==s[a.__redom_id]&&(a.__redom_index=null,t(this,a))}for(var f=0;f<l.length;f++){l[f].__redom_index=f}b(this,l),n&&(this.lookup=s),this.views=l},k.extend=function(e,t,i,n){return k.bind(k,e,t,i,n)},k.extend;var D=function(e,t){this.el=h(""),this.visible=!1,this.view=null,this._placeholder=this.el,e instanceof Node?this._el=e:e.el instanceof Node?(this._el=e,this.view=e):this._View=e,this._initData=t};D.prototype.update=function(e,i){var n=this._placeholder,o=this.el.parentNode;if(e){if(!this.visible)if(this._el)l(o,this._el,n),t(o,n),this.el=_(this._el),this.visible=e;else{var r=new(0,this._View)(this._initData);this.el=_(r),this.view=r,l(o,r,n),t(o,n)}this.view&&this.view.update&&this.view.update(i)}else if(this.visible){if(this._el)return l(o,n,this._el),t(o,this._el),this.el=n,void(this.visible=e);l(o,n,this.view),t(o,this.view),this.el=n,this.view=null}this.visible=e};var S=function(e,t,i){this.el=v(e),this.Views=t,this.initData=i};S.prototype.update=function(e,t){if(e!==this.route){var i=this.Views[e];this.route=e,i&&(i instanceof Node||i.el instanceof Node)?this.view=i:this.view=i&&new i(this.initData,t),b(this.el,[this.view])}this.view&&this.view.update&&this.view.update(t,e)};var E={};function V(e){for(var t,i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];var o=typeof e;if("string"===o)t=A(e).cloneNode(!1);else if(p(e))t=e.cloneNode(!1);else{if("function"!==o)throw new Error("At least one argument required");var r=e;t=new(Function.prototype.bind.apply(r,[null].concat(i)))}return c(_(t),i,!0),t}function A(t){return E[t]||(E[t]=e(t,"http://www.w3.org/2000/svg"))}V.extend=function(e){var t=A(e);return V.bind(this,t)},V.ns="http://www.w3.org/2000/svg";var j=class{constructor(e){this.content=e}};var C=class{constructor(e){this.content=e,this.el=y("p.todo",e.content)}getNote(){return this.content}setNote(e){this.content=e}};var T=class{constructor(){this.el=y("form#login",this.content=y("input.text",{type:"text"}),y("button",{type:"submit"},"+")),this.el.onsubmit=e=>{e.preventDefault();let t=new j(this.content.value),i=new C(t);l(document.body,i),console.log("running"+e)}}},O=(y("h1","Hello RE:DOM!"),y("h1","Hello RE:DOMsddddff''fd!"));const R=document.getElementById("app"),M=new T;l(R,O),l(R,M),console.log("mount again");
//# sourceMappingURL=index.2f781d23.js.map
